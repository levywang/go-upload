## go-upload Web 前端

一个用于大文件上传的 Web 控制台，配合 Go 后端使用，支持：

- **大文件分片上传 + 断点续传**
- **通过对话框选择服务器上的上传目录**（模拟文件管理器，单击选中、双击进入目录）
- 实时显示上传进度和速度、历史记录

前端通过 HTTP 调用后端 API（默认后端为 `http://127.0.0.1:5000`）。

## 本地开发

- **前置依赖**：Node.js（推荐版本 ≥ 18）

```bash
cd web
npm install
npm run dev
```

默认会在 `http://127.0.0.1:5173/` 启动 Vite 开发服务器。

如需指定后端地址（反向代理或更换端口），可在 `web/.env` 中设置：

```bash
VITE_API_BASE_URL=http://127.0.0.1:5000
```

## 构建静态文件（给 Go 后端一体化部署使用）

```bash
cd web
npm run build
```

打包产物会生成在 `web/dist`。

然后在 `backend/config.yaml` 中开启：

```yaml
static:
  enable: true
  dir: "../web/dist"
```

此时只需运行后端可执行文件，即可同时提供 **API + 这份前端静态页面**（访问后端根路径即可）。

## 前端关键交互说明

- **上传目录选择**：
  - 点击「Upload Directory」区域的按钮，弹出目录选择对话框。
  - 对话框中目录结构来自后端接口 `GET /api/v1/storage/tree`。
  - 单击：选中某个目录；双击：进入该目录；底部会显示当前选中目录的相对路径。
- **上传行为**：
  - 选择目录后，拖拽或选择本地文件即可上传。
  - 前端会将“选中的目录相对路径 + 文件名”拼成上传路径传给后端，用于大文件分片/续传。 
